# 02. ìŠ¤í”„ë§ ì›¹ ê°œë°œ ê¸°ì´ˆ

## ğŸ“¢ View í™˜ê²½ì„¤ì •
<br>

### Welcome Page ë§Œë“¤ê¸°

* `static/index.html`ì„ ì˜¬ë ¤ë‘ë©´ Welcome page ê¸°ëŠ¥ ì œê³µ
<br>

***
<br>

### ğŸ“thymeleaf í…œí”Œë¦¿ ì—”ì§„
<br>

 * íŒŒì¼ ë‚´ë¶€ë¥¼ ì–‘ì‹ì— ë§ê²Œ ë°ì´í„°ë¥¼ ë„£ì–´ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤. <br>
 ==> ë™ì‘í•˜ê³  í”„ë¡œê·¸ë˜ë° ë˜ëŠ” í™”ë©´ì„ ë§Œë“¤ê¸° ìœ„í•´

<br>

 ```java
 @controller
 public class HelloController{

  @GetMapping("hello")
  public String hello(model){
    model.addAttribute("data","hello!!");
    return "hello";
  }
 }
 ```
 <br>
 

```html
<!DOCTYPE HTML>
<html xmlen:th="http://www.thymeleaf.org">
  <head>
    <title>Hello</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  </head>
  <body>
    <p th:text="ì•ˆë…•í•˜ì„¸ìš”. ' + ${data}"> ì•ˆë…•í•˜ì„¸ìš”. ì†ë‹˜</p>
  </body>
</html>
```


* templates/hello.html í…œí”Œë¦¿ ì—”ì§„ ì²˜ë¦¬

  *  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë¦¬í„´ ê°’ìœ¼ë¡œ ë¬¸ìë¥¼ ë°˜í™˜í•˜ë©´ `ë·° ë¦¬ì¡¸ë²„(viewResolver)`ê°€ í™”ë©´ì„ ì°¾ì•„ ì²˜ë¦¬í•œë‹¤.

  * ìŠ¤í”„ë§ ë¶€íŠ¸ í…œí”Œë¦¿ì—”ì§„ ê¸°ë³¸ viewName ë§¤í•‘
resources:template/ +(viewName)+.html

<br>

***

<br>
<br>

### ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ê¸°

ì½˜ì†”ë¡œ ì´ë™
```
1.  ./gradlew build
2.  .cd build/libs
3.  .java -jar hello-spring-0.0.1-SNAPSHOT.jar
4.  ì‹¤í–‰í™•ì¸
```

***

## ğŸ“¢ ìŠ¤í”„ë§ ì›¹ ê°œë°œ ê¸°ì´ˆ
<br>

### ğŸ“ ì •ì  ì»¨í…ì¸ 

ì„œë²„ì—ì„œ í•˜ëŠ” ê±° ì—†ì´ ì›¹ ë¸Œë¼ìš°ì €ë¡œ `ë°”ë¡œ ë‚´ë ¤ì£¼ëŠ” ê²ƒ`

ê·¸ëƒ¥ ì›í•˜ëŠ” html íŒŒì¼ì„ ë§Œë“¤ë©´ ì •ë§ ê·¸ëŒ€ë¡œ ê°€ì§€ê³  ì˜¨ë‹¤.

> ì›¹ ë¸Œë¼ìš°ì € ==> localhost:8080/hello-static.html ==> ë‚´ì¥ í†°ì¼“ ì„œë²„ ==> ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ(hello-static ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬ X) ==>resources:static/hello-static.html ==>ë‹¤ì‹œ ì›¹ë¸Œë¼ìš°ì €ë¡œ

***
<br>

### ğŸ“MVCì™€ í…œí”Œë¦¿ ì—”ì§„

MVC (model, view, Controller)
htmlì„ ê·¸ëƒ¥ ì£¼ëŠ”ê²Œ ì•„ë‹ˆë¼ ì„œë²„ì—ì„œ í”„ë¡œê·¸ë˜ë° í•´ì„œ htmlì„ ë™ì ìœ¼ë¡œ ë°”ê¿”ì„œ ë‚´ë¦¬ëŠ” ê²ƒ.

<br>

>controller
```java
@Controller
public class HelloController{

  @GetMapping("hello-mvc")
  public String helloMvc(@RequestParam("name") String name, Model model){
    model.addAttribute("name" , name);
    return "hello-template";
  }
}
```
<br><br>

> View
```html
<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <p th:text=" 'hello' + ${name}
    ">hello! empty</p>
  </body>
</html>
```
<br>

`ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ`
* helloController <br>
* return: hello-template<br>
* model(name:spring)<br>

<br>

`viewResolver`<br>
* templates/hello-template.html(Thymeleaf í…œí”Œë¦¿ ì—”ì§„ ì²˜ë¦¬)

<br>

> ì •ì ì€ ê·¸ëŒ€ë¡œ ì „ë‹¬ì´ì§€ë§Œ ì„œë²„ì—ì„œ ë³€í˜•í•´ì„œ ë‚´ë ¤ì£¼ëŠ”ê²Œ ì°¨ì´ì ì´ë‹¤. 

<br>

***
<br>

## ğŸ“API
ì„œë²„ë¼ë¦¬ í†µì‹ í•  ë•Œ
ë°ì´í„°ë§Œ ë‚´ë ¤ì£¼ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ í™”ë©´ì„ ì•Œì•„ì„œ ê·¸ë¦´ ë•Œ

```java
@GetMapping("hello-api")
@ResponseBody  // ê°ì²´ë¥¼ ë°˜í™˜í• ê²½ìš° JSON ìœ¼ë¡œ ë³€í™˜ (MappingJackson2HttpMessageConverter)
public Hello helloApi(@RequestParam("name") String name) {
    Hello hello = new Hello();
    hello.setName(name);
    return hello; 

static class Hello {
    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
```


###  íƒ€ì„ ë¦¬í”„ í‘œí˜„ì‹
```
 ${} : ë³€ìˆ˜ì˜ ê°’ í‘œí˜„ì‹
 #{} : ì†ì„± íŒŒì¼ ê°’ í‘œí˜„ì‹
 @{} : URL í‘œí˜„ì‹
 *{} : ì„ íƒí•œ ë³€ìˆ˜ì˜ í‘œí˜„ì‹, th:objectì—ì„œ ì„ íƒí•œ ê°ì²´ì— ì ‘ê·¼
```

### íƒ€ì„ë¦¬í”„ ë¬¸ë²•
```java
th:text : í…ìŠ¤íŠ¸ë¥¼ í‘œí˜„
          th:text=${person.name} 

th:each : ì»¬ë ‰ì…˜ì„ ë°˜ë³µ
          th:each="person:${person.name}"

th:if : ì»¬ë ‰ì…˜ì„ ë°˜ë³µ
          th:if="${person.name}>=20"
```